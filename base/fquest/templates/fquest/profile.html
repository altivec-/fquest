{% extends "fquest/base.html" %}

{% block graph_info %}
    <meta property="fb:app_id" content="{{ config.get('OAUTH_FACEBOOK').get('consumer_key') }}"/>
    <meta property="og:title" content="{{ title }}"/> 
    <meta property="og:site_name" content="{{ _('Zero Quest') }}"/> 
    <meta property="og:determiner" content="a"/>
    <meta property="og:description" content="Character progress"/>
    <meta property="og:image" content="{{ url_for('fquest.static', filename='fquest.png') }}"/>
    <meta property="og:image:type" content="image/png"/>
    <meta property="og:image:width" content="200"/>
    <meta property="og:image:height" content="200"/>
    <meta property="og:url" content="{{ request.base_url.rstrip('/') }}{{ url_for('fquest.character', facebook_id=character.facebook_id) }}"/> 
    <meta property="og:type" content="fquest-klen:level"/>
{% endblock %}

{% block fquest_content %}
    <div class='row'>

        {# Character info #}
        <div class='span4 well'>
            <h3><img src="http://graph.facebook.com/{{ character.facebook_id }}/picture" alt="alt"/>
                {{ character.name }}</h3>
            <h4>{{ character.display() }}</h4>
            <div>
                <span class="label label-warning">Gold: {{ character.gold }}</span>
                <span class="label label-success">Win: {{ character.win }}</span>
                <span class="label label-inverse">Lose: {{ character.lose }}</span>
            </div>
            <b>Level {{ character.level }}</b>
            <div class="progress progress-striped active">
                <div class="bar" style="width: 36%;"></div>
            </div>
            
            <div class="row">
                <div class="span2">
                    <p class="text-warning">
                        <b>Strenght:</b>
                        {{ character.strenght }}
                    </p>
                    <p class="text-warning">
                        <b>Dexterity:</b>
                        {{ character.dexterity }}
                    </p>
                </div>
                <div class="span2">
                    <p class="text-warning">
                        <b>Intellect:</b>
                        {{ character.intellect }}
                    </p>
                    <p class="text-warning">
                        <b>Luck:</b>
                        {{ character.luck }}
                    </p>
                </div>
            </div>
        </div>
        <div class="span6">
            {% import "fquest/macros.html" as fquest %}
            <h2>{{ _('Last events') }}</h2>
            {% for event in events.items %}
                {{ fquest.render_event(event) }}
            {% endfor %}
            {{ fquest.render_pagination(events) }}
        </div>
    </div>
{% endblock %}
